{"ast":null,"code":"var uuid = require('uuid'); // Get Unique Brands from Json Data\n\n\nexport var getBrands = function getBrands(products) {\n  var uniqueBrands = [];\n  products.map(function (product, index) {\n    if (product.tags) {\n      product.tags.map(function (tag) {\n        if (uniqueBrands.indexOf(tag) === -1) {\n          uniqueBrands.push(tag);\n        }\n      });\n    }\n  }); //console.log(uniqueBrands)\n\n  return uniqueBrands;\n}; // Get Unique Colors from Json Data\n\nexport var getColors = function getColors(products) {\n  var uniqueColors = [];\n  products.map(function (product, index) {\n    if (product.colors) {\n      product.colors.map(function (color) {\n        if (uniqueColors.indexOf(color) === -1) {\n          uniqueColors.push(color);\n        }\n      });\n    }\n  }); //console.log(uniqueBrands)\n\n  return uniqueColors;\n}; // Get Minimum and Maximum Prices from Json Data\n\nexport var getMinMaxPrice = function getMinMaxPrice(products) {\n  var min = 100,\n      max = 1000;\n  products.map(function (product, index) {\n    var v = product.price;\n    min = v < min ? v : min;\n    max = v > max ? v : max;\n  });\n  return {\n    'min': min,\n    'max': max\n  };\n};\nexport var getVisibleproducts = function getVisibleproducts(data, _ref) {\n  var brand = _ref.brand,\n      color = _ref.color,\n      value = _ref.value,\n      sortBy = _ref.sortBy,\n      catagory = _ref.catagory;\n  return data.products.filter(function (product) {\n    var catagoryMatch = true;\n\n    if (catagory) {\n      if (product.catagories) {\n        catagoryMatch = product.catagories.includes(catagory);\n      } else {\n        catagoryMatch = false;\n      }\n    }\n\n    var brandMatch;\n\n    if (product.tags) {\n      brandMatch = product.tags.some(function (tag) {\n        return brand.includes(tag);\n      });\n    } else {\n      brandMatch = true;\n    }\n\n    var colorMatch;\n\n    if (color && product.colors) {\n      colorMatch = product.colors.includes(color);\n    } else {\n      colorMatch = true;\n    }\n\n    var startPriceMatch = typeof value.min !== 'number' || value.min <= product.price;\n    var endPriceMatch = typeof value.max !== 'number' || product.price <= value.max;\n    return brandMatch && colorMatch && startPriceMatch && endPriceMatch && catagoryMatch;\n  }).sort(function (product1, product2) {\n    if (sortBy === 'HighToLow') {\n      return product2.price < product1.price ? -1 : 1;\n    } else if (sortBy === 'LowToHigh') {\n      return product2.price > product1.price ? -1 : 1;\n    } else if (sortBy === 'Newest') {\n      return product2.id < product1.id ? -1 : 1;\n    } else if (sortBy === 'AscOrder') {\n      return product1.name.localeCompare(product2.name);\n    } else if (sortBy === 'DescOrder') {\n      return product2.name.localeCompare(product1.name);\n    } else {\n      return product2.id > product1.id ? -1 : 1;\n    }\n  });\n};\nexport var getCartTotal = function getCartTotal(cartItems) {\n  var total = 0;\n\n  for (var i = 0; i < cartItems.length; i++) {\n    total += parseInt(cartItems[i].qty, 10) * parseInt(cartItems[i].price * cartItems[i].discount / 100, 10);\n  }\n\n  return total;\n}; // Get Trending Tag wise Collection\n\nexport var getTrendingTagCollection = function getTrendingTagCollection(products, type, tag) {\n  var items = products.filter(function (product) {\n    return product.category === type && product.tags.includes(tag);\n  });\n  return items.slice(0, 8);\n}; // Get Trending Collection\n\nexport var getTrendingCollection = function getTrendingCollection(products, type) {\n  var items = products.filter(function (product) {\n    return product.category === type;\n  });\n  return items.slice(0, 8);\n}; // Get Special 5 Collection\n\nexport var getSpecialCollection = function getSpecialCollection(products, type) {\n  var items = products.filter(function (product) {\n    return product.category === type;\n  });\n  return items.slice(0, 5);\n}; // Get TOP Collection\n\nexport var getTopCollection = function getTopCollection(products) {\n  var items = products.filter(function (product) {\n    return product.rating > 4;\n  });\n  return items.slice(0, 8);\n}; // Get New Products\n\nexport var getNewProducts = function getNewProducts(products, type) {\n  var items = products.filter(function (product) {\n    return product.new === true && product.category === type;\n  });\n  return items.slice(0, 8);\n}; // Get Related Items\n\nexport var getRelatedItems = function getRelatedItems(products, type) {\n  var items = products.filter(function (product) {\n    return product.category === type;\n  });\n  return items.slice(0, 4);\n}; // Get Best Seller Furniture\n\nexport var getBestSellerProducts = function getBestSellerProducts(products, type) {\n  var items = products.filter(function (product) {\n    return product.sale === true && product.category === type;\n  });\n  return items.slice(0, 8);\n}; // Get Best Seller\n\nexport var getBestSeller = function getBestSeller(products) {\n  var items = products.filter(function (product) {\n    return product.sale === true;\n  });\n  return items.slice(0, 8);\n}; // Get Mens Wear\n\nexport var getMensWear = function getMensWear(products) {\n  var items = products.filter(function (product) {\n    return product.category === 'men';\n  });\n  return items.slice(0, 8);\n}; // Get Womens Wear\n\nexport var getWomensWear = function getWomensWear(products) {\n  var items = products.filter(function (product) {\n    return product.category === 'women';\n  });\n  return items.slice(0, 8);\n}; // Get Single Product\n\nexport var getSingleItem = function getSingleItem(products, id) {\n  var items = products.find(function (element) {\n    return element.id === id;\n  });\n  return items;\n}; // Get Products In Collection\n\nexport var getCollectionProducts = function getCollectionProducts(products, collectionId) {\n  var items = products.filter(function (product) {\n    return product.collectionId === collectionId;\n  });\n  return items.slice(0, 8);\n}; // Get Related Products\n\nexport var getRelatedProducts = function getRelatedProducts(products, productId) {\n  var items = products.filter(function (product) {\n    return product.relatedIds != null && product.relatedIds.includes(productId);\n  });\n  return items.slice(0, 8);\n}; // Get Products By Catagory\n\nexport var getProductsWithCatagory = function getProductsWithCatagory(products, catagory) {\n  var items = products.filter(function (product) {\n    return product.catagories != null && product.catagories.includes(catagory);\n  });\n  return items.slice(0, 8);\n}; // Boxever services ********************************************************************************************************************************\n\nvar POS = \"easyjet.com\";\nvar CHANNEL = \"WEB\";\nexport var bxAddProductToCart = function bxAddProductToCart(product) {\n  console.log(\"bxAddProductToCart\");\n  console.log(product);\n  var event = {\n    \"channel\": CHANNEL,\n    \"type\": \"ADD\",\n    \"language\": \"EN\",\n    \"currency\": \"USD\",\n    \"page\": \"\",\n    \"pos\": POS,\n    \"browser_id\": window.Boxever.getID(),\n    \"product\": {\n      \"item_id\": JSON.stringify(product.id),\n      \"product_id\": JSON.stringify(product.id),\n      \"type\": \"OTHER\",\n      \"name\": product.name,\n      \"currency\": \"USD\",\n      \"price\": parseFloat(parseFloat(Math.round(product.price * 100) / 100).toFixed(2)),\n      \"quantity\": 1\n    }\n  };\n  window.Boxever.eventCreate(event, function (data) {}, 'json');\n};\nexport var bxView = function bxView(page) {\n  if (page == null) {\n    page = window.location.pathname;\n  }\n\n  var viewEvent = {\n    \"browser_id\": window.Boxever.getID(),\n    \"channel\": CHANNEL,\n    \"type\": \"VIEW\",\n    \"language\": \"EN\",\n    \"currency\": \"USD\",\n    \"page\": page,\n    \"pos\": POS,\n    \"session_data\": {\n      \"uri\": page\n    }\n  };\n  window.Boxever.eventCreate(viewEvent, function (data) {}, 'json');\n};\nexport var bxIdenfify = function bxIdenfify(email, fname, lname) {\n  window._boxeverq.push(function () {\n    var identifyEvent = {\n      \"browser_id\": window.Boxever.getID(),\n      \"channel\": CHANNEL,\n      \"type\": \"IDENTITY\",\n      \"language\": \"EN\",\n      \"currency\": \"USD\",\n      \"page\": \"CHEKOUT\",\n      \"pos\": POS,\n      \"email\": email,\n      \"firstname\": fname,\n      \"lastname\": lname\n    };\n    window.Boxever.eventCreate(identifyEvent, function (data) {}, 'json');\n  });\n};\nexport var bxCheckout = function bxCheckout(cartItems) {\n  var checkoutProducts = [];\n  cartItems.forEach(function (cartItem) {\n    console.log(cartItem);\n    checkoutProducts.push({\n      \"item_id\": JSON.stringify(cartItem.id)\n    });\n  }); //confirm\n\n  window._boxeverq.push(function () {\n    var confirmEvent = {\n      \"browser_id\": window.Boxever.getID(),\n      \"channel\": CHANNEL,\n      \"type\": \"CONFIRM\",\n      \"language\": \"EN\",\n      \"currency\": \"USD\",\n      \"page\": \"/order-success\",\n      \"pos\": POS,\n      \"product\": checkoutProducts\n    };\n    window.Boxever.eventCreate(confirmEvent, function (data) {}, 'json');\n  }); //payment\n\n\n  window._boxeverq.push(function () {\n    var payment = {\n      \"channel\": CHANNEL,\n      \"type\": \"PAYMENT\",\n      \"language\": \"EN\",\n      \"currency\": \"USD\",\n      \"page\": \"/order-success\",\n      \"pos\": POS,\n      \"browser_id\": window.Boxever.getID(),\n      \"pay_type\": \"Card\"\n    };\n    window.Boxever.eventCreate(payment, function (data) {}, 'json');\n  }); //checkout\n\n\n  window._boxeverq.push(function () {\n    var checkoutEvent = {\n      \"browser_id\": window.Boxever.getID(),\n      \"channel\": CHANNEL,\n      \"type\": \"CHECKOUT\",\n      \"language\": \"EN\",\n      \"currency\": \"USD\",\n      \"page\": \"/order-success\",\n      \"pos\": POS,\n      \"reference_id\": uuid.v4()\n    };\n    window.Boxever.eventCreate(checkoutEvent, function (data) {}, 'json');\n  });\n}; // get(\"Add Confirm Event\", {\n//     url: \"https://{{apiEndpoint}}/v1.2/event/create.json?client_key={{clientKey}}&message={{message}}\",\n//     prepare: function (context) {\n//         var event = {\n//             \"browser_id\": \"{{browserId}}\",\n//             \"channel\": \"APP\",\n//             \"type\": \"CONFIRM\",\n//             \"language\": \"{{language}}\",\n//             \"currency\": \"{{currencyCode}}\",\n//             \"page\": \"/home\",\n//             \"pos\": \"mannings.com.hk\",\n//             \"product\": [{ \"item_id\": \"15\" }] //need to put\n//         };\n//         context.sessionVariables.message = JSON.stringify(chainsaw.replaceAllVariables(event, context));\n//     }\n// }).\n// get(\"Add Checkout Event\", {\n//     url: \"https://{{apiEndpoint}}/v1.2/event/create.json?client_key={{clientKey}}&message={{message}}\",\n//     prepare: function (context) {\n//         var event = {\n//             \"browser_id\": \"{{browserId}}\",\n//             \"channel\": \"APP\",\n//             \"type\": \"CHECKOUT\",\n//             \"language\": \"{{language}}\",\n//             \"currency\": \"{{currencyCode}}\",\n//             \"page\": \"/home\",\n//             \"pos\": \"mannings.com.hk\",\n//             \"reference_id\": \"{{$guid}}\",\n//         };\n//         context.sessionVariables.message = JSON.stringify(chainsaw.replaceAllVariables(event, context));\n//     }\n// }).","map":{"version":3,"sources":["/Users/richardflynn/Documents/js-workspace/react/spinshop/src/services/index.js"],"names":["uuid","require","getBrands","products","uniqueBrands","map","product","index","tags","tag","indexOf","push","getColors","uniqueColors","colors","color","getMinMaxPrice","min","max","v","price","getVisibleproducts","data","brand","value","sortBy","catagory","filter","catagoryMatch","catagories","includes","brandMatch","some","colorMatch","startPriceMatch","endPriceMatch","sort","product1","product2","id","name","localeCompare","getCartTotal","cartItems","total","i","length","parseInt","qty","discount","getTrendingTagCollection","type","items","category","slice","getTrendingCollection","getSpecialCollection","getTopCollection","rating","getNewProducts","new","getRelatedItems","getBestSellerProducts","sale","getBestSeller","getMensWear","getWomensWear","getSingleItem","find","element","getCollectionProducts","collectionId","getRelatedProducts","productId","relatedIds","getProductsWithCatagory","POS","CHANNEL","bxAddProductToCart","console","log","event","window","Boxever","getID","JSON","stringify","parseFloat","Math","round","toFixed","eventCreate","bxView","page","location","pathname","viewEvent","bxIdenfify","email","fname","lname","_boxeverq","identifyEvent","bxCheckout","checkoutProducts","forEach","cartItem","confirmEvent","payment","checkoutEvent","v4"],"mappings":"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","sourcesContent":["var uuid = require('uuid');\r\n\r\n// Get Unique Brands from Json Data\r\nexport const getBrands = (products) => {\r\n    var uniqueBrands = [];\r\n    products.map((product, index) => {\r\n        if (product.tags) {\r\n            product.tags.map((tag) => {\r\n                if (uniqueBrands.indexOf(tag) === -1) {\r\n                    uniqueBrands.push(tag);\r\n                }\r\n            })\r\n        }\r\n    })\r\n    //console.log(uniqueBrands)\r\n    return uniqueBrands;\r\n}\r\n\r\n// Get Unique Colors from Json Data\r\nexport const getColors = (products) => {\r\n    var uniqueColors = [];\r\n    products.map((product, index) => {\r\n        if (product.colors) {\r\n            product.colors.map((color) => {\r\n                if (uniqueColors.indexOf(color) === -1) {\r\n                    uniqueColors.push(color);\r\n                }\r\n            })\r\n        }\r\n    })\r\n    //console.log(uniqueBrands)\r\n    return uniqueColors;\r\n}\r\n\r\n// Get Minimum and Maximum Prices from Json Data\r\nexport const getMinMaxPrice = (products) => {\r\n    let min = 100, max = 1000;\r\n\r\n    products.map((product, index) => {\r\n        let v = product.price;\r\n        min = (v < min) ? v : min;\r\n        max = (v > max) ? v : max;\r\n    })\r\n\r\n    return { 'min': min, 'max': max };\r\n}\r\n\r\nexport const getVisibleproducts = (data, { brand, color, value, sortBy, catagory}) => {\r\n\r\n    return data.products.filter(product => {\r\n\r\n        let catagoryMatch = true;\r\n        if (catagory) {\r\n            if (product.catagories) {\r\n                catagoryMatch = product.catagories.includes(catagory);\r\n            } else {\r\n                catagoryMatch = false;\r\n            }\r\n        }\r\n\r\n\r\n        let brandMatch;\r\n        if (product.tags) {\r\n            brandMatch = product.tags.some(tag => brand.includes(tag))\r\n        } else {\r\n            brandMatch = true;\r\n        }\r\n\r\n        let colorMatch;\r\n        if (color && product.colors) {\r\n            colorMatch = product.colors.includes(color)\r\n        } else {\r\n            colorMatch = true;\r\n        }\r\n\r\n        const startPriceMatch = typeof value.min !== 'number' || value.min <= product.price;\r\n        const endPriceMatch = typeof value.max !== 'number' || product.price <= value.max;\r\n\r\n        return brandMatch && colorMatch && startPriceMatch && endPriceMatch && catagoryMatch;\r\n    }).sort((product1, product2) => {\r\n        if (sortBy === 'HighToLow') {\r\n            return product2.price < product1.price ? -1 : 1;\r\n        } else if (sortBy === 'LowToHigh') {\r\n            return product2.price > product1.price ? -1 : 1;\r\n        } else if (sortBy === 'Newest') {\r\n            return product2.id < product1.id ? -1 : 1;\r\n        } else if (sortBy === 'AscOrder') {\r\n            return product1.name.localeCompare(product2.name);\r\n        } else if (sortBy === 'DescOrder') {\r\n            return product2.name.localeCompare(product1.name);\r\n        } else {\r\n            return product2.id > product1.id ? -1 : 1;\r\n        }\r\n    });\r\n}\r\n\r\nexport const getCartTotal = cartItems => {\r\n    var total = 0;\r\n    for (var i = 0; i < cartItems.length; i++) {\r\n        total += parseInt(cartItems[i].qty, 10) * parseInt((cartItems[i].price * cartItems[i].discount / 100), 10);\r\n    }\r\n    return total;\r\n}\r\n\r\n// Get Trending Tag wise Collection\r\nexport const getTrendingTagCollection = (products, type, tag) => {\r\n    const items = products.filter(product => {\r\n        return product.category === type && product.tags.includes(tag);\r\n    })\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Trending Collection\r\nexport const getTrendingCollection = (products, type) => {\r\n    const items = products.filter(product => {\r\n        return product.category === type;\r\n    })\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Special 5 Collection\r\nexport const getSpecialCollection = (products, type) => {\r\n    const items = products.filter(product => {\r\n        return product.category === type;\r\n    })\r\n    return items.slice(0, 5)\r\n}\r\n\r\n// Get TOP Collection\r\nexport const getTopCollection = products => {\r\n    const items = products.filter(product => {\r\n        return product.rating > 4;\r\n    })\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get New Products\r\nexport const getNewProducts = (products, type) => {\r\n    const items = products.filter(product => {\r\n        return product.new === true && product.category === type;\r\n    })\r\n\r\n    return items.slice(0, 8)\r\n}\r\n\r\n\r\n// Get Related Items\r\nexport const getRelatedItems = (products, type) => {\r\n    const items = products.filter(product => {\r\n        return product.category === type;\r\n    })\r\n\r\n    return items.slice(0, 4)\r\n\r\n}\r\n\r\n// Get Best Seller Furniture\r\nexport const getBestSellerProducts = (products, type) => {\r\n    const items = products.filter(product => {\r\n        return product.sale === true && product.category === type;\r\n    })\r\n\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Best Seller\r\nexport const getBestSeller = products => {\r\n    const items = products.filter(product => {\r\n        return product.sale === true;\r\n    })\r\n\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Mens Wear\r\nexport const getMensWear = products => {\r\n    const items = products.filter(product => {\r\n        return product.category === 'men';\r\n    })\r\n\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Womens Wear\r\nexport const getWomensWear = products => {\r\n    const items = products.filter(product => {\r\n        return product.category === 'women';\r\n    })\r\n\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Single Product\r\nexport const getSingleItem = (products, id) => {\r\n\r\n    const items = products.find((element) => {\r\n        return element.id === id;\r\n    })\r\n    return items;\r\n}\r\n\r\n\r\n// Get Products In Collection\r\nexport const getCollectionProducts = (products, collectionId) => {\r\n    const items = products.filter(product => {\r\n        return product.collectionId === collectionId;\r\n    })\r\n    return items.slice(0, 8)\r\n}\r\n\r\n\r\n// Get Related Products\r\nexport const getRelatedProducts = (products, productId) => {\r\n    const items = products.filter(product => {\r\n        return product.relatedIds != null && product.relatedIds.includes(productId);\r\n    })\r\n    return items.slice(0, 8)\r\n}\r\n\r\n// Get Products By Catagory\r\nexport const getProductsWithCatagory = (products, catagory) => {\r\n    const items = products.filter(product => {\r\n        return product.catagories != null && product.catagories.includes(catagory);\r\n    })\r\n    return items.slice(0, 8)\r\n}\r\n\r\n\r\n\r\n// Boxever services ********************************************************************************************************************************\r\n\r\n\r\nconst POS = \"easyjet.com\";\r\nconst CHANNEL = \"WEB\";\r\n\r\n\r\nexport const bxAddProductToCart = (product) => {\r\n    console.log(\"bxAddProductToCart\");\r\n    console.log(product);\r\n    var event =\r\n    {\r\n        \"channel\": CHANNEL,\r\n        \"type\": \"ADD\",\r\n        \"language\": \"EN\",\r\n        \"currency\": \"USD\",\r\n        \"page\": \"\",\r\n        \"pos\": POS,\r\n        \"browser_id\": window.Boxever.getID(),\r\n        \"product\": {\r\n            \"item_id\": JSON.stringify(product.id),\r\n            \"product_id\": JSON.stringify(product.id),\r\n            \"type\": \"OTHER\",\r\n            \"name\": product.name,\r\n            \"currency\": \"USD\",\r\n            \"price\": parseFloat(parseFloat(Math.round(product.price * 100) / 100).toFixed(2)),\r\n            \"quantity\": 1\r\n        }\r\n    };\r\n    window.Boxever.eventCreate(event, function (data) { }, 'json');\r\n}\r\n\r\n\r\nexport const bxView = (page) => {\r\n    if(page == null){\r\n        page = window.location.pathname;\r\n    }\r\n    var viewEvent = {\r\n        \"browser_id\": window.Boxever.getID(),\r\n        \"channel\": CHANNEL,\r\n        \"type\": \"VIEW\",\r\n        \"language\": \"EN\",\r\n        \"currency\": \"USD\",\r\n        \"page\": page,\r\n        \"pos\": POS,\r\n        \"session_data\": { \"uri\": page }\r\n    };\r\n    window.Boxever.eventCreate(viewEvent, function (data) { }, 'json');\r\n}\r\n\r\nexport const bxIdenfify = (email,fname,lname) => {\r\n    window._boxeverq.push(function () {\r\n        var identifyEvent = {\r\n            \"browser_id\": window.Boxever.getID(),\r\n            \"channel\": CHANNEL,\r\n            \"type\": \"IDENTITY\",\r\n            \"language\": \"EN\",\r\n            \"currency\": \"USD\",\r\n            \"page\": \"CHEKOUT\",\r\n            \"pos\": POS,\r\n            \"email\": email,\r\n            \"firstname\": fname,\r\n            \"lastname\": lname\r\n        };\r\n\r\n        window.Boxever.eventCreate(identifyEvent, function (data) { }, 'json');\r\n    });\r\n}\r\n\r\nexport const bxCheckout = (cartItems) => {\r\n    \r\n    let checkoutProducts = [];\r\n    cartItems.forEach(function (cartItem) {\r\n        console.log(cartItem);\r\n        checkoutProducts.push(\r\n            {\r\n                \"item_id\": JSON.stringify(cartItem.id)\r\n            }\r\n        );\r\n    });\r\n\r\n    //confirm\r\n    window._boxeverq.push(function () {    \r\n        var confirmEvent = {\r\n            \"browser_id\": window.Boxever.getID(),\r\n            \"channel\": CHANNEL,\r\n            \"type\": \"CONFIRM\",\r\n            \"language\": \"EN\",\r\n            \"currency\": \"USD\",\r\n            \"page\": \"/order-success\",\r\n            \"pos\": POS,\r\n            \"product\": checkoutProducts\r\n            \r\n        };\r\n        window.Boxever.eventCreate(confirmEvent, function (data) { }, 'json');\r\n    });\r\n\r\n    //payment\r\n    window._boxeverq.push(function () {    \r\n        var payment =    {\r\n            \"channel\": CHANNEL,\r\n            \"type\": \"PAYMENT\",\r\n            \"language\": \"EN\",\r\n            \"currency\": \"USD\",\r\n            \"page\": \"/order-success\",\r\n            \"pos\": POS,\r\n            \"browser_id\": window.Boxever.getID(),\r\n            \"pay_type\": \"Card\"\r\n        }\r\n        window.Boxever.eventCreate(payment, function (data) { }, 'json');\r\n    });\r\n\r\n    //checkout\r\n    window._boxeverq.push(function () {    \r\n        var checkoutEvent = {\r\n            \"browser_id\": window.Boxever.getID(),\r\n            \"channel\": CHANNEL,\r\n            \"type\": \"CHECKOUT\",\r\n            \"language\": \"EN\",\r\n            \"currency\": \"USD\",\r\n            \"page\": \"/order-success\",\r\n            \"pos\": POS,\r\n            \"reference_id\": uuid.v4(),\r\n        };\r\n        window.Boxever.eventCreate(checkoutEvent, function (data) { }, 'json');\r\n    });\r\n\r\n\r\n   \r\n}\r\n\r\n\r\n\r\n// get(\"Add Confirm Event\", {\r\n//     url: \"https://{{apiEndpoint}}/v1.2/event/create.json?client_key={{clientKey}}&message={{message}}\",\r\n//     prepare: function (context) {\r\n//         var event = {\r\n//             \"browser_id\": \"{{browserId}}\",\r\n//             \"channel\": \"APP\",\r\n//             \"type\": \"CONFIRM\",\r\n//             \"language\": \"{{language}}\",\r\n//             \"currency\": \"{{currencyCode}}\",\r\n//             \"page\": \"/home\",\r\n//             \"pos\": \"mannings.com.hk\",\r\n//             \"product\": [{ \"item_id\": \"15\" }] //need to put\r\n\r\n\r\n//         };\r\n//         context.sessionVariables.message = JSON.stringify(chainsaw.replaceAllVariables(event, context));\r\n//     }\r\n// }).\r\n// get(\"Add Checkout Event\", {\r\n//     url: \"https://{{apiEndpoint}}/v1.2/event/create.json?client_key={{clientKey}}&message={{message}}\",\r\n//     prepare: function (context) {\r\n//         var event = {\r\n//             \"browser_id\": \"{{browserId}}\",\r\n//             \"channel\": \"APP\",\r\n//             \"type\": \"CHECKOUT\",\r\n//             \"language\": \"{{language}}\",\r\n//             \"currency\": \"{{currencyCode}}\",\r\n//             \"page\": \"/home\",\r\n//             \"pos\": \"mannings.com.hk\",\r\n//             \"reference_id\": \"{{$guid}}\",\r\n//         };\r\n//         context.sessionVariables.message = JSON.stringify(chainsaw.replaceAllVariables(event, context));\r\n//     }\r\n// }).\r\n\r\n"]},"metadata":{},"sourceType":"module"}